<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pm="http://primefaces.org/mobile">
    <f:view renderKitId="PRIMEFACES_MOBILE" />  
    <script>
        function onEnter(object){
            //alert('entraste');
            var obj=$(object);
            obj.keyup(function(event){
                if(event.keyCode == 13){
                    console.log("#{dtMobileView.setAfpFiltrado()}");
                    console.log("\n"+obj.val());
                }
                else{
                    console.log("#{dtMobileView.setAfpFiltrado()}");
                }
            });
        }
    </script>
    <h:head>
        <f:loadBundle basename="titulos" var="titulos" />
    </h:head>
    <h:body>
    <pm:page title="Menu">        
            <pm:header title="Bienvenido" fixed="true" transient="true" >
                <f:facet name="right">
                    <p:button value="Salir" icon="delete" onclick="PF('dlg').show()" />
                </f:facet>
                <script type="text/javascript" src="../js/validadispositivo.js"></script>                
                <p:dialog header="Advertencia" widgetVar="dlg" showEffect="pop">
                    <p:outputPanel id="noteDetail" layout="block"  style="padding:4px 10px">
                        <h:outputText value="Desea Salir?"/>
                        <p:button value="Si" onclick="window.location = '#{facesContext.externalContext.requestContextPath}/faces/Sistema/CerrarSesion.xhtml';" icon="check"/>
                    </p:outputPanel>
                </p:dialog>
            </pm:header>
            <pm:content id="contenedor">
                <b style="font-size: 15px">USUARIO: </b> 
                <b><h:outputText value="#{usuarioBean.usr_nombres}" style="color: darkorange; font-size: 15px; " /></b>
                <h:form id="form1">
                    <p:growl id="msgs" showDetail="true" />                
                    <h2 class="first">Afp</h2>
                    <p:outputLabel for="search" value="Afp:"/>
                    <p:inputText  id="search" value="#{dtMobileView.mensaje}" placeholder="Buscar Afp" type="search" onkeypress="onEnter(this)"/>
                    <p:dataTable var="afp" value="#{dtMobileView.afp}" tableStyleClass="ui-table-columntoggle">
                        <p:column headerText="Id" priority="1">
                            <h:outputText value="#{afp.idafp}" />
                        </p:column>
                        <p:column headerText="Descripcion" priority="2">
                            <h:outputText value="#{afp.descripcion}" />
                        </p:column>
                        <p:column headerText="IdRegimen" priority="1">
                            <h:outputText value="#{afp.idregimen}" />
                        </p:column>
                        <p:column headerText="Fecha" priority="2">
                            <h:outputText value="#{afp.fechaCreacion}"/>
                        </p:column>
                    </p:dataTable>
                </h:form>
                <h:form id="form2">  
                    <h2>Reflow Mode</h2>
                    <p:dataTable var="car" value="#{dtMobileView.cars2}" reflow="true" >
                        <p:column headerText="Id">
                            <h:outputText value="#{car.id}" />
                        </p:column>
                        <p:column headerText="Year">
                            <h:outputText value="#{car.year}" />
                        </p:column>
                        <p:column headerText="Brand">
                            <h:outputText value="#{car.brand}" />
                        </p:column>
                        <p:column headerText="Color">
                            <h:outputText value="#{car.color}" />
                        </p:column>
                    </p:dataTable>
                </h:form>
                <br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br>
            </pm:content>
            <pm:footer fixed="true">
                <h1 style="font-size: x-small" >Â© 2015 <img border="0" height="10px" src="../images/logoWeb.png"/> Nisira Systems SAC </h1>         
            </pm:footer> 
    </pm:page>
    </h:body> 
</html>



